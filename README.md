# Json to java main converter for this [Autograder](https://github.com/bralax/gradescope_autograder)

This is a small set of code to take a json file and convert it into a file containing a main method for the autograder I designed.
This is in part to try to make it easier for people, other than myself to create an autograder and as a way to move for autogenerated
autograders. Using this it could be possible to design a UI where based on a selection of options, passed as json data (in the format specified below), it would generate an autograder that could be used to grade an assignment.

To build the program call:
```
   make
```
To run the program call:
```
   make run json={Name_Of_JSON_File}
```
To clean up call:
```
   make clean
```
   
# Json File Format

At the top most level, there should be a parameter named "tests". This should an array type of objects so in this format:

```json
{
   "tests": [{...}, ... {...}]
}
```
   
Each object in the array should have the following parameters:
   - **type**: (String) The type of test to run. See below for the mapping between the Java test and the type name. For more information about the test, see the autograder library.
   - **parameters**: (Object) This is an object containing each parameter that a test needs and the values for them.
     - *classname*: (String) The name of the class that the test is acting on. Every 
     - *count*: (Number) Used for tests that run multiple rounds as a count of number of tests or used for tests that check counts of things
     - *input*: (String) The name of the file input for a comparison test
     - *first*: (String) The first file to compare for a diff test
     - *second*: (String) The second file to compare for a diff test
     - *classtype*: (String) The type of the field that is to be found in a hasfield test
     - *field*: (String) The name of the field to be found on a hasfield test
     - *method*: (String) The name of the method to be found on a hasmethod test
     - *arguments*: (Array (of Strings)) The argument type that a method takes in
     - *logname*: (String) The name of the file that the program writes to in a log file diff test
     - *samplename*: (String) The name of the file that the sample program writes to in a log file diff test
     - *inputname*: (String) The name of the file containing std input for a log file diff test
     - *viscount*: (Number) The number of tests that should be made explicitly visible when running a test that performs many rounds 
     - *sample*: (Boolean) Whether a stdout diff test should compare against the output of a sample program or already written out file with a sample run in it
     - *pointsper*: (Number) The number of points to take off in the checkstyle tests that take off per mistake.
   - **score**: (Number)This is how many points the test is worth
   - **visibility**: (String)A string that represents the visibility of the test to students. See below for the acceptable values.
   - **conditiontests (optional)**: (Array of Objects) This should be an array of the same test objects. These are tests that should be run only if this test returns true. Only the tests listed below with a yes in the condition tests column can handle this parameter. If you try to provide this parameter to a test that can not handle it, all the conditional tests will be ignored.


## Visibility options

Gradescope allows for four basic visibility options for a test. All tests will allways be available for course staff but when visibility determines when do students get to see the result. The options are:
   - visible
   - hidden
   - after_due_date
   - after_published 

## Converting tests to names
| Java Method                 | JSON Type Name    | Condition Tests? | Potential Parameters                                          |
|-----------------------------|-------------------| ---------------- | ------------------------------------------------------------- |
| classDoesNotUseArrayLists   | noarraylist       |   Yes            |   classname                                                   |
| classDoesNotUsePackages     | nopackage         |   Yes            |   classname                                                   |
| comparisonTests             | comptests         |   No             |   classname, count                                            |
| comparisonTest              | comptest          |   No             |   classname, input                                            |
| diffFiles                   | compfiles         |   No             |   first, second                                               |
| hasFieldTest                | hasfield          |   Yes            |   classname, classtype, field                                 |  
| hasMethodTest               | hasmethod         |   No             |   classname, method, arguments                                |
| junitTests                  | junittests        |   No             |   classname                                                   |
| logFileDiffTest             | logdifftest       |   No             |   classname, logname, samplename, inputname                   |
| logFileDiffTests            | logdifftests      |   No             |   classname, logname, samplename, count, viscount(optional)   |
| stdOutDiffTest              | stddifftests      |   No             |   classname, count, sample                                    |
| stdOutDiffTests             | stddifftests      |   No             |   classname, count, sample, viscount (optional)               |
| testCheckstyle              | checkstylepf      |   No             |   classname                                                   |
| testCompiles                | compiles          |   Yes            |   classname                                                   |
| testConstructorCount        | constructcount    |   Yes            |   classname, count                                            |
| testMethodCount             | methodcount       |   Yes            |   classname, count                                            |
| testPublicInstanceVariables | nopiv             |   No             |   classname                                                   |
| testSourceExists            | fileexists        |   Yes            |   classname                                                   |
| testSortedCheckstyle        | checkstylepererr  |   No             |   classname, pointsper                                        |
| testSortedCheckstyle        | checkstylepertype |   No             |   classname, pointsper                                        |
